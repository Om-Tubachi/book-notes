<!-- CREATE -->
<%- include('partials/header.ejs') %>
<% if (locals.loggedIn) { %>
    <div class="create-box">
         <form action="/create" method="POST">
            <input type="text" name="title" placeholder="Article Headline" required>
            <input type="text" name="Author" placeholder="By [Author Name]" required>
            <input type="text" name="concoct" placeholder="Editorial Summary" required>
            
            <textarea id="mytextarea" name="content">
                
            </textarea>
            
            <button type="submit">Publish Article</button>
        </form>
    </div>
    
    <script>
        tinymce.init({
            selector: '#mytextarea',
            height: 600,
            skin: 'oxide',
            plugins: [
                'autolink', 'lists', 'link', 'charmap', 'anchor', 
                'searchreplace', 'visualblocks', 'wordcount', 'code'
            ],
            toolbar: 'undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link | code | wordcount',
            menubar: false,
            branding: false,
            resize: true,
            formats: {
                alignjustify: { selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', styles: { textAlign: 'justify' } }
            },
            content_style: `
                @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap');
                
                body { 
                    font-family: 'Crimson Text', serif !important;
                    font-size: 16px !important;
                    line-height: 1.8 !important;
                    color: #1a1a1a !important;
                    background: #ffffff !important;
                    padding: 40px !important;
                    margin: 0 !important;
                    text-align: justify !important;
                    max-width: 100% !important;
                }
                
                p { 
                    margin-bottom: 18px !important;
                    text-indent: 24px !important;
                    font-size: 16px !important;
                    line-height: 1.8 !important;
                }
                
                /* Newspaper headline styles */
                h1 {
                    font-family: 'Playfair Display', serif !important;
                    font-size: 32px !important;
                    font-weight: 900 !important;
                    color: #1a1a1a !important;
                    text-align: center !important;
                    text-transform: uppercase !important;
                    letter-spacing: 2px !important;
                    margin: 40px 0 25px 0 !important;
                    border-bottom: 3px double #1a1a1a !important;
                    padding-bottom: 15px !important;
                }
                
                h2 {
                    font-family: 'Playfair Display', serif !important;
                    font-size: 24px !important;
                    font-weight: 700 !important;
                    color: #1a1a1a !important;
                    text-align: center !important;
                    letter-spacing: 1px !important;
                    margin: 35px 0 20px 0 !important;
                    text-transform: uppercase !important;
                }
                
                h3 {
                    font-family: 'Old Standard TT', serif !important;
                    font-size: 20px !important;
                    font-weight: 700 !important;
                    color: #333333 !important;
                    margin: 30px 0 15px 0 !important;
                    font-style: italic !important;
                }
                
                /* Newspaper-style lists */
                ul, ol {
                    margin: 20px 0 20px 40px !important;
                    font-size: 16px !important;
                }
                
                li {
                    margin-bottom: 8px !important;
                    line-height: 1.7 !important;
                }
                
                /* Pull quotes and blockquotes */
                blockquote {
                    border-left: 4px solid #d4af37 !important;
                    margin: 30px 60px !important;
                    padding: 20px 0 20px 30px !important;
                    font-style: italic !important;
                    color: #333333 !important;
                    font-size: 18px !important;
                    line-height: 1.6 !important;
                    position: relative !important;
                }
                
                blockquote::before {
                    content: '"' !important;
                    font-size: 48px !important;
                    color: #d4af37 !important;
                    position: absolute !important;
                    left: -10px !important;
                    top: -5px !important;
                    font-family: 'Playfair Display', serif !important;
                }
                
                /* Code styling for newspaper */
                code {
                    background: rgba(26, 26, 26, 0.1) !important;
                    padding: 2px 8px !important;
                    border-radius: 0 !important;
                    font-family: 'Courier New', monospace !important;
                    border: 1px solid rgba(26, 26, 26, 0.2) !important;
                }
                
                /* Links in newspaper style */
                a {
                    color: #d4af37 !important;
                    text-decoration: underline !important;
                }
                
                a:hover {
                    color: #1a1a1a !important;
                }
                
                /* First paragraph special styling (lead) */
                p:first-of-type {
                    font-size: 18px !important;
                    font-weight: 600 !important;
                    line-height: 1.6 !important;
                    margin-bottom: 25px !important;
                    text-indent: 0 !important;
                }
                
                /* Drop cap for first letter of first paragraph */
                p:first-of-type:first-letter {
                    float: left !important;
                    font-family: 'Playfair Display', serif !important;
                    font-size: 72px !important;
                    line-height: 60px !important;
                    padding-right: 8px !important;
                    padding-top: 4px !important;
                    font-weight: 900 !important;
                    color: #1a1a1a !important;
                }
            `,
            setup: function(editor) {
                editor.on('init', function() {
                    // Set default alignment to justify for newspaper look
                    editor.formatter.apply('alignjustify');
                });
            }
        });
    </script>
<% } else { %>
    <h1>not in</h1>
<% } %>